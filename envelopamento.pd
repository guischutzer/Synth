#N canvas 0 234 1520 801 10;
#X obj 101 101 cnv 15 498 198 empty envelopamento Envelopamento 5 12
0 14 -261228 -86277 0;
#N canvas 245 247 1389 657 env_selector 0;
#X obj 100 101 hradio 15 1 0 2 empty empty empty 0 -8 0 10 -261234
-258113 -1 0;
#X floatatom 659 477 5 0 0 0 - - -, f 5;
#X obj 287 501 outlet;
#X obj 659 503 outlet;
#X obj 190 33 inlet~;
#X obj 190 499 outlet~;
#X obj 399 112 cyclone/peakamp~;
#X obj 442 63 bang~;
#X obj 567 114 r freq;
#N canvas 347 266 868 605 select_env 0;
#X obj 196 406 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 393 406 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 579 402 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 725 402 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 377 238 inlet;
#X obj 367 494 outlet;
#X obj 698 498 outlet;
#X msg 367 429 0;
#X msg 698 425 0;
#X obj 152 330 loadbang;
#X obj 377 310 s eb1;
#X obj 417 309 s eb2;
#X obj 377 276 route 0;
#X obj 579 366 r eb2;
#X obj 728 369 r eb1;
#X obj 392 373 r eb2;
#X obj 196 370 r eb1;
#X msg 579 450 \; 2_b color 13;
#X msg 725 446 \; 2_b color 4;
#X msg 196 451 \; adsr_b color 13;
#X msg 325 429 1;
#X msg 657 426 1;
#X obj 215 119 cnv 15 100 60 empty teste empty 20 12 0 14 -250685 -66577
0;
#X msg 393 451 \; adsr_b color -1.67628e+07;
#X connect 0 0 19 0;
#X connect 0 0 20 0;
#X connect 1 0 23 0;
#X connect 1 0 7 0;
#X connect 2 0 17 0;
#X connect 2 0 21 0;
#X connect 3 0 18 0;
#X connect 3 0 8 0;
#X connect 4 0 12 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X connect 9 0 0 0;
#X connect 12 0 10 0;
#X connect 12 1 11 0;
#X connect 13 0 2 0;
#X connect 14 0 3 0;
#X connect 15 0 1 0;
#X connect 16 0 0 0;
#X connect 20 0 5 0;
#X connect 21 0 6 0;
#X restore 287 353 pd select_env;
#X obj 542 352 zexy/demultiplex 1 2;
#X floatatom 287 471 5 0 0 0 - - -, f 5;
#X obj 542 202 pack;
#X obj 100 35 loadbang;
#X msg 100 63 0;
#X obj 190 462 *~;
#X obj 512 475 *~;
#X obj 512 497 outlet~;
#X connect 0 0 9 0;
#X connect 1 0 3 0;
#X connect 4 0 6 0;
#X connect 4 0 15 0;
#X connect 4 0 16 0;
#X connect 6 0 12 0;
#X connect 7 0 6 0;
#X connect 8 0 12 1;
#X connect 9 0 11 0;
#X connect 9 0 15 1;
#X connect 9 0 16 1;
#X connect 9 1 1 0;
#X connect 10 0 2 0;
#X connect 10 1 1 0;
#X connect 11 0 2 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 0 0;
#X connect 15 0 5 0;
#X connect 16 0 17 0;
#X coords 0 -1 1 1 30 17 2 100 100;
#X restore 215 105 pd env_selector;
#N canvas 739 212 1063 771 adsr 0;
#X obj 101 101 cnv 15 258 148 empty adsr_b empty 20 12 0 14 -258699
-262144 0;
#X obj 140 380 r trigger;
#X obj 189 484 r graphit;
#X msg 652 226 bang;
#X text 696 227 <-- attack and delayed release;
#X obj 663 250 del 500;
#X text 767 333 <-- attack only;
#X msg 652 314 \; pd dsp 1 \; trigger 1 \; graphit bang;
#X text 768 410 <-- release only;
#X msg 703 407 \; pd dsp 1 \; trigger 0 \; graphit bang;
#X msg 663 275 \; trigger 0;
#X obj 152 624 outlet~;
#X obj 105 127 cnv 15 120 90 empty empty empty 20 12 0 14 -262144 -66577
0;
#N canvas 1 57 450 300 (subpatch) 0;
#X array adsr-format 44100 float 0;
#X coords 0 1.02 44100 0 120 90 1 0 0;
#X restore 105 127 graph;
#X obj 588 170 r note_on;
#X obj 151 572 *~;
#X obj 554 421 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 157 411 5 0 0 0 - - -, f 5;
#X obj 283 -11 loadbang;
#N canvas 0 94 804 986 sub_adsr 0;
#X obj 105 111 inlet;
#X obj 435 151 inlet;
#X text 101 86 trigger;
#X obj 105 139 sel 0;
#X obj 244 155 t b;
#X obj 166 264 f \$1;
#X obj 166 289 pack 0 \$2;
#X obj 492 151 inlet;
#X obj 438 281 del \$2;
#X obj 458 429 line~;
#X obj 462 304 f \$4;
#X obj 501 379 pack 0 \$3;
#X obj 554 151 inlet;
#X obj 616 151 inlet;
#X obj 689 150 inlet;
#X msg 105 170 stop;
#X obj 612 306 pack 0 \$5;
#X text 435 129 level;
#X obj 501 355 * \$1;
#X obj 458 454 outlet~;
#X text 102 378 and pack with;
#X text 103 398 attack time;
#X text 31 126 if zero;
#X text 32 143 release;
#X text 12 160 and cancel;
#X text 43 177 decay;
#X text 284 272 on attack \, set a;
#X text 278 305 recall sustain value;
#X text 315 378 pack with decay time;
#X text 605 332 on release ramp;
#X text 606 349 back to zero;
#X obj 462 329 * 0.01;
#X text 47 567 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 13 2 ADSR ENVELOPE;
#X text 488 129 attack;
#X text 555 128 decay;
#X text 609 129 sustain;
#X text 686 129 release;
#X text 202 71 attack;
#X obj 204 92 moses;
#X obj 194 122 t b b;
#X msg 128 290 0;
#X text 20 273 optionally;
#X text 10 291 bash to zero;
#X text 25 246 ATTACK:;
#X text 49 477 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 495 629 Updated for Pd version 0.37;
#X text 255 89 test for negative trigger;
#X text 253 113 if so \, zero;
#X text 254 129 the output;
#X text 278 165 in any case;
#X text 303 355 multiply by peak level;
#X text 280 286 delay for sustain;
#X text 276 328 convert from percent;
#X text 155 340 ... then;
#X text 103 359 recall peak level;
#X text 439 113 peak;
#X text 281 149 ... do this;
#X text 47 529 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 208 1 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X obj 476 193 * 1000;
#X obj 557 193 * 1000;
#X obj 672 195 * 1000;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 1 0 18 1;
#X connect 3 0 15 0;
#X connect 3 0 16 0;
#X connect 3 1 39 0;
#X connect 4 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 60 0;
#X connect 8 0 10 0;
#X connect 9 0 19 0;
#X connect 10 0 31 0;
#X connect 11 0 9 0;
#X connect 12 0 61 0;
#X connect 13 0 10 1;
#X connect 14 0 62 0;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 18 0 11 0;
#X connect 31 0 18 0;
#X connect 39 0 40 0;
#X connect 39 1 4 0;
#X connect 40 0 4 0;
#X connect 40 1 41 0;
#X connect 41 0 9 0;
#X connect 60 0 8 1;
#X connect 60 0 6 1;
#X connect 61 0 11 1;
#X connect 62 0 16 1;
#X restore 151 459 pd sub_adsr;
#X obj 580 366 r note_off;
#X obj 580 422 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 167 509 tabwrite~ adsr-format;
#X obj 266 117 vsl 15 110 0 1 0 0 decay empty D 0 -9 0 10 -203904 -1
-1 1090 1;
#X obj 246 233 nbx 3 14 0 4 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0.1 256;
#X obj 371 382 r sustain;
#X obj 232 117 vsl 15 110 0 1 0 0 att empty A 0 -9 0 10 -203904 -1
-1 890 1;
#X obj 338 117 vsl 15 110 0 1 0 0 release empty R 0 -9 0 10 -203904
-1 -1 2180 1;
#X obj 301 117 vsl 15 110 0 100 0 0 sustain empty S_% 0 -9 0 10 -204786
-1 -1 9810 1;
#X obj 322 233 nbx 3 14 0 4 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0.2 256;
#X obj 208 233 nbx 3 14 0 4 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0.0816514 256;
#X obj 284 233 nbx 3 14 0 100 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 90 256;
#X obj 262 381 r att;
#X obj 309 381 r decay;
#X obj 448 383 r release;
#X msg 232 42 0.1;
#X obj 416 -4 inlet;
#X obj 416 43 unpack;
#X obj 416 80 s peak;
#X obj 211 380 r peak;
#X obj 51 333 inlet~;
#X msg 301 42 90;
#X msg 266 42 0.1;
#X msg 338 42 0.2;
#X connect 1 0 19 0;
#X connect 1 0 17 0;
#X connect 2 0 22 0;
#X connect 3 0 7 0;
#X connect 3 0 5 0;
#X connect 5 0 10 0;
#X connect 14 0 16 0;
#X connect 14 0 7 0;
#X connect 15 0 11 0;
#X connect 18 0 41 0;
#X connect 18 0 42 0;
#X connect 18 0 35 0;
#X connect 18 0 43 0;
#X connect 19 0 15 0;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 20 0 10 0;
#X connect 23 0 24 0;
#X connect 25 0 19 4;
#X connect 26 0 30 0;
#X connect 27 0 29 0;
#X connect 28 0 31 0;
#X connect 32 0 19 2;
#X connect 33 0 19 3;
#X connect 34 0 19 5;
#X connect 35 0 26 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 39 0 19 1;
#X connect 40 0 15 1;
#X connect 41 0 28 0;
#X connect 42 0 23 0;
#X connect 43 0 27 0;
#X coords 0 -1 1 1 260 150 1 100 100;
#X restore 117 135 pd adsr;
#X obj 242 45 inlet~;
#X obj 163 341 outlet~;
#X obj 331 315 loadbang;
#X msg 339 346 \; envelopamento color -1.67628e+07;
#X obj 639 50 inlet;
#X obj 639 116 unpack;
#X obj 728 333 s note_on;
#X obj 639 247 pack;
#X obj 639 331 outlet;
#X obj 728 299 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 759 206 != 0;
#X obj 707 276 spigot;
#X floatatom 779 157 5 0 0 0 - - -, f 5;
#X obj 774 280 spigot;
#X obj 807 309 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 807 338 s note_off;
#X obj 807 206 == 0;
#X msg 773 243 0;
#X floatatom 817 238 5 0 0 0 - - -, f 5;
#X obj 950 57 inlet;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 8 1 10 1;
#X connect 8 1 15 0;
#X connect 8 1 14 0;
#X connect 8 1 16 0;
#X connect 10 0 11 0;
#X connect 12 0 9 0;
#X connect 13 0 14 1;
#X connect 14 0 12 0;
#X connect 15 0 13 0;
#X connect 15 0 19 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 0 16 1;
#X connect 19 0 21 0;
#X connect 20 0 14 1;
#X connect 20 0 16 1;
#X coords 0 -1 1 1 500 200 1 100 100;
